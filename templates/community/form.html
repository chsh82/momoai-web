{% extends "base.html" %}

{% block title %}{{ title }} - MOMOAI v4.0{% endblock %}

{% block content %}
<div class="max-w-4xl mx-auto">
    <!-- Header -->
    <div class="mb-6">
        <a href="{% if is_edit %}{{ url_for('community.detail', post_id=post.post_id) }}{% else %}{{ url_for('community.index') }}{% endif %}"
           class="text-blue-600 hover:text-blue-800 font-medium mb-2 inline-block">
            â† ë’¤ë¡œ ê°€ê¸°
        </a>
        <h2 class="text-3xl font-bold text-gray-800">{{ title }}</h2>
    </div>

    <!-- Form -->
    <div class="bg-white rounded-lg shadow-lg p-8">
        <form method="POST" action="" enctype="multipart/form-data">
            {{ form.hidden_tag() }}

            <div class="space-y-6">
                <!-- ì¹´í…Œê³ ë¦¬ -->
                <div>
                    {{ form.category.label(class="block text-sm font-medium text-gray-700 mb-2") }}
                    {{ form.category(class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" + (" border-red-500" if form.category.errors else "")) }}
                    {% if form.category.errors %}
                        {% for error in form.category.errors %}
                        <p class="text-red-500 text-sm mt-1">{{ error }}</p>
                        {% endfor %}
                    {% endif %}
                </div>

                <!-- ì œëª© -->
                <div>
                    {{ form.title.label(class="block text-sm font-medium text-gray-700 mb-2") }}
                    {{ form.title(class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" + (" border-red-500" if form.title.errors else ""), placeholder="ê²Œì‹œê¸€ ì œëª©ì„ ì…ë ¥í•˜ì„¸ìš”...") }}
                    {% if form.title.errors %}
                        {% for error in form.title.errors %}
                        <p class="text-red-500 text-sm mt-1">{{ error }}</p>
                        {% endfor %}
                    {% endif %}
                </div>

                <!-- ë‚´ìš© -->
                <div>
                    {{ form.content.label(class="block text-sm font-medium text-gray-700 mb-2") }}
                    {{ form.content(class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" + (" border-red-500" if form.content.errors else ""), rows=15, placeholder="ê²Œì‹œê¸€ ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš”...") }}
                    {% if form.content.errors %}
                        {% for error in form.content.errors %}
                        <p class="text-red-500 text-sm mt-1">{{ error }}</p>
                        {% endfor %}
                    {% endif %}
                    <p class="text-sm text-gray-500 mt-2">ğŸ’¡ Tip: Shift + Enterë¡œ ì¤„ë°”ê¿ˆì„ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
                </div>

                <!-- íƒœê·¸ -->
                <div>
                    {{ form.tags.label(class="block text-sm font-medium text-gray-700 mb-2") }}
                    {{ form.tags(class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500") }}
                    {% if form.tags.errors %}
                        {% for error in form.tags.errors %}
                        <p class="text-red-500 text-sm mt-1">{{ error }}</p>
                        {% endfor %}
                    {% endif %}
                    <p class="text-sm text-gray-500 mt-2">ğŸ’¡ íƒœê·¸ëŠ” ì‰¼í‘œë¡œ êµ¬ë¶„í•˜ë©°, ìµœëŒ€ 5ê°œê¹Œì§€ ì…ë ¥ ê°€ëŠ¥í•©ë‹ˆë‹¤.</p>
                </div>

                <!-- íŒŒì¼ ì²¨ë¶€ -->
                <div>
                    {{ form.files.label(class="block text-sm font-medium text-gray-700 mb-2") }}
                    {{ form.files(class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500", multiple=true) }}
                    {% if form.files.errors %}
                        {% for error in form.files.errors %}
                        <p class="text-red-500 text-sm mt-1">{{ error }}</p>
                        {% endfor %}
                    {% endif %}
                    <p class="text-sm text-gray-500 mt-2">ğŸ’¡ ì´ë¯¸ì§€, PDF, ë¬¸ì„œ íŒŒì¼ ë“±ì„ ì²¨ë¶€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤ (ìµœëŒ€ 16MB)</p>
                </div>

                <!-- ë²„íŠ¼ -->
                <div class="flex gap-3 pt-4">
                    <button type="submit"
                            class="flex-1 bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 rounded-lg transition duration-200">
                        {% if is_edit %}ìˆ˜ì • ì™„ë£Œ{% else %}ê²Œì‹œê¸€ ì‘ì„±{% endif %}
                    </button>
                    <a href="{% if is_edit %}{{ url_for('community.detail', post_id=post.post_id) }}{% else %}{{ url_for('community.index') }}{% endif %}"
                       class="flex-1 bg-gray-400 hover:bg-gray-500 text-white font-medium py-3 rounded-lg transition duration-200 text-center">
                        ì·¨ì†Œ
                    </a>
                </div>
            </div>
        </form>
    </div>
</div>
{% endblock %}
