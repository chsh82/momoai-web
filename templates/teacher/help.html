{% extends "base.html" %}

{% block title %}사이트 사용 설명서 - MOMOAI v4.0{% endblock %}
{% block page_title %}📖 사이트 사용 설명서{% endblock %}
{% block page_subtitle %}
<span class="text-sm text-white text-opacity-70 ml-3">MOMOAI 주요 기능 안내</span>
{% endblock %}

{% block content %}
<div class="max-w-4xl mx-auto">

    <!-- PDF 다운로드 버튼 -->
    <div class="flex justify-end mb-4">
        <a href="{{ url_for('teacher.help_pdf') }}"
           class="inline-flex items-center gap-2 bg-indigo-600 hover:bg-indigo-700 text-white text-sm font-semibold px-5 py-2 rounded-lg shadow transition">
            <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                      d="M4 16v2a2 2 0 002 2h12a2 2 0 002-2v-2M7 10l5 5 5-5M12 15V3"/>
            </svg>
            PDF 다운로드
        </a>
    </div>

    <!-- 목차 -->
    <div class="bg-white rounded-lg shadow p-6 mb-6">
        <h2 class="text-xl font-bold text-gray-800 mb-4">📋 목차</h2>
        <div class="grid grid-cols-2 gap-2 text-sm">
            <a href="#section-login"    class="flex items-center gap-2 text-blue-600 hover:underline"><span>1.</span> 로그인 및 기본 설정</a>
            <a href="#section-courses"  class="flex items-center gap-2 text-blue-600 hover:underline"><span>2.</span> 수업 관리</a>
            <a href="#section-attend"   class="flex items-center gap-2 text-blue-600 hover:underline"><span>3.</span> 출석 체크</a>
            <a href="#section-feedback" class="flex items-center gap-2 text-blue-600 hover:underline"><span>4.</span> 피드백 작성</a>
            <a href="#section-essay"    class="flex items-center gap-2 text-blue-600 hover:underline"><span>5.</span> 첨삭 (에세이)</a>
            <a href="#section-msg"      class="flex items-center gap-2 text-blue-600 hover:underline"><span>6.</span> 수업 공지 및 메세지</a>
            <a href="#section-material" class="flex items-center gap-2 text-blue-600 hover:underline"><span>7.</span> 학습 자료 등록</a>
            <a href="#section-assign"   class="flex items-center gap-2 text-blue-600 hover:underline"><span>8.</span> 과제 출제 및 채점</a>
            <a href="#section-board"    class="flex items-center gap-2 text-blue-600 hover:underline"><span>9.</span> 게시판</a>
            <a href="#section-eval"     class="flex items-center gap-2 text-blue-600 hover:underline"><span>10.</span> 학생 평가</a>
            <a href="#section-faq"      class="flex items-center gap-2 text-blue-600 hover:underline"><span>11.</span> 자주 묻는 질문</a>
        </div>
    </div>

    <!-- 1. 로그인 및 기본 설정 -->
    <div id="section-login" class="bg-white rounded-lg shadow p-6 mb-6">
        <h2 class="text-xl font-bold text-indigo-700 mb-4 flex items-center gap-2">
            <span class="bg-indigo-100 text-indigo-700 rounded-full w-8 h-8 flex items-center justify-center text-sm font-bold">1</span>
            로그인 및 기본 설정
        </h2>
        <div class="space-y-4 text-gray-700 text-sm leading-relaxed">
            <div class="bg-blue-50 rounded-lg p-4">
                <p class="font-semibold text-blue-800 mb-2">🔐 최초 로그인</p>
                <ol class="list-decimal list-inside space-y-1 text-blue-700">
                    <li>관리자가 발급한 <strong>이메일 / 임시 비밀번호</strong>로 로그인합니다.</li>
                    <li>최초 로그인 시 <strong>비밀번호 변경</strong>을 요청할 수 있습니다.</li>
                    <li>비밀번호는 <strong>영문 소문자 + 숫자 + 특수문자</strong>를 포함해야 합니다.</li>
                </ol>
            </div>
            <div class="bg-green-50 rounded-lg p-4">
                <p class="font-semibold text-green-800 mb-2">👤 프로필 설정</p>
                <ul class="list-disc list-inside space-y-1 text-green-700">
                    <li>좌측 하단 <strong>프로필</strong> 버튼을 클릭하여 내 정보를 수정할 수 있습니다.</li>
                    <li>강사 소개를 작성하면 <strong>모모 소식 → 강사 소개</strong> 페이지에 표시됩니다.</li>
                    <li>Zoom 링크를 등록하면 학생들에게 공유됩니다.</li>
                </ul>
            </div>
        </div>
    </div>

    <!-- 2. 수업 관리 -->
    <div id="section-courses" class="bg-white rounded-lg shadow p-6 mb-6">
        <h2 class="text-xl font-bold text-indigo-700 mb-4 flex items-center gap-2">
            <span class="bg-indigo-100 text-indigo-700 rounded-full w-8 h-8 flex items-center justify-center text-sm font-bold">2</span>
            수업 관리
        </h2>
        <div class="space-y-3 text-sm text-gray-700">
            <p>사이드바 <strong>내 수업 → 수업 목록</strong>에서 담당 수업 전체를 확인합니다.</p>
            <div class="overflow-x-auto">
                <table class="w-full text-sm border border-gray-200 rounded-lg">
                    <thead class="bg-gray-50">
                        <tr>
                            <th class="px-4 py-2 text-left font-semibold text-gray-600">메뉴</th>
                            <th class="px-4 py-2 text-left font-semibold text-gray-600">기능</th>
                        </tr>
                    </thead>
                    <tbody class="divide-y divide-gray-100">
                        <tr><td class="px-4 py-2 font-medium">수업 목록</td><td class="px-4 py-2">담당 수업 전체 조회 / 수업별 학생 현황 확인</td></tr>
                        <tr class="bg-gray-50"><td class="px-4 py-2 font-medium">주간 시간표</td><td class="px-4 py-2">이번 주 수업 일정을 달력 형식으로 확인</td></tr>
                        <tr><td class="px-4 py-2 font-medium">수업 상세</td><td class="px-4 py-2">수강생 목록 · 출석률 · 세션별 현황 확인</td></tr>
                    </tbody>
                </table>
            </div>
            <div class="bg-yellow-50 border-l-4 border-yellow-400 p-3 rounded">
                <p class="text-yellow-800 text-xs">⚠️ 수업 개설 및 수강생 추가는 <strong>관리자</strong>만 가능합니다. 변경이 필요하면 관리자에게 요청하세요.</p>
            </div>
        </div>
    </div>

    <!-- 3. 출석 체크 -->
    <div id="section-attend" class="bg-white rounded-lg shadow p-6 mb-6">
        <h2 class="text-xl font-bold text-indigo-700 mb-4 flex items-center gap-2">
            <span class="bg-indigo-100 text-indigo-700 rounded-full w-8 h-8 flex items-center justify-center text-sm font-bold">3</span>
            출석 체크
        </h2>
        <div class="space-y-3 text-sm text-gray-700">
            <p>사이드바 <strong>내 수업 → 출석 체크</strong>로 이동합니다.</p>
            <ol class="list-decimal list-inside space-y-2 bg-gray-50 rounded-lg p-4">
                <li>오늘 또는 해당 날짜의 <strong>세션</strong>을 선택합니다.</li>
                <li>학생 이름 옆 버튼으로 <strong>출석 / 지각 / 결석 / 인정결석</strong>을 선택합니다.</li>
                <li>기본값은 <strong>출석</strong>으로 설정되어 있습니다. 결석·지각 학생만 변경하면 됩니다.</li>
                <li><strong>출석 체크 완료</strong> 버튼을 클릭하면 세션이 완료 처리됩니다.</li>
            </ol>
            <div class="flex gap-3 text-xs mt-2">
                <span class="px-3 py-1 bg-green-100 text-green-800 rounded-full font-medium">✓ 출석</span>
                <span class="px-3 py-1 bg-yellow-100 text-yellow-800 rounded-full font-medium">⏰ 지각</span>
                <span class="px-3 py-1 bg-red-100 text-red-800 rounded-full font-medium">✗ 결석</span>
                <span class="px-3 py-1 bg-blue-100 text-blue-800 rounded-full font-medium">📋 인정결석</span>
            </div>
            <div class="bg-blue-50 border-l-4 border-blue-400 p-3 rounded">
                <p class="text-blue-800 text-xs">💡 완료 처리된 세션도 이후 수정이 가능합니다. 수업 목록 → 해당 세션 → 출석 현황에서 수정하세요.</p>
            </div>
        </div>
    </div>

    <!-- 4. 피드백 작성 -->
    <div id="section-feedback" class="bg-white rounded-lg shadow p-6 mb-6">
        <h2 class="text-xl font-bold text-indigo-700 mb-4 flex items-center gap-2">
            <span class="bg-indigo-100 text-indigo-700 rounded-full w-8 h-8 flex items-center justify-center text-sm font-bold">4</span>
            피드백 작성
        </h2>
        <div class="space-y-3 text-sm text-gray-700">
            <p>사이드바 <strong>학생 관리 → 피드백 작성</strong>으로 이동합니다.</p>
            <ol class="list-decimal list-inside space-y-2 bg-gray-50 rounded-lg p-4">
                <li>피드백을 받을 <strong>학생</strong>을 선택합니다.</li>
                <li>수업 날짜, 피드백 내용, 점수를 입력합니다.</li>
                <li><strong>SMS 발송</strong> 옵션을 체크하면 학부모에게 문자가 자동 발송됩니다.</li>
                <li>저장하면 학부모 포털에서 확인 가능하며, <strong>학생에게는 보이지 않습니다.</strong></li>
            </ol>
            <div class="bg-orange-50 border-l-4 border-orange-400 p-3 rounded">
                <p class="text-orange-800 text-xs">🔒 피드백은 <strong>학부모와 관리자만</strong> 열람 가능합니다. 학생은 볼 수 없습니다.</p>
            </div>
        </div>
    </div>

    <!-- 5. 첨삭 -->
    <div id="section-essay" class="bg-white rounded-lg shadow p-6 mb-6">
        <h2 class="text-xl font-bold text-indigo-700 mb-4 flex items-center gap-2">
            <span class="bg-indigo-100 text-indigo-700 rounded-full w-8 h-8 flex items-center justify-center text-sm font-bold">5</span>
            첨삭 (에세이)
        </h2>
        <div class="space-y-3 text-sm text-gray-700">
            <p>학생이 에세이를 제출하면 강사에게 <strong>알림</strong>이 발송됩니다.</p>
            <ol class="list-decimal list-inside space-y-2 bg-gray-50 rounded-lg p-4">
                <li>좌측 상단 <strong>🔔 알림</strong>에서 새 제출 알림을 확인합니다.</li>
                <li>또는 사이드바 <strong>학습 관리 → 에세이 첨삭</strong>에서 목록을 확인합니다.</li>
                <li>에세이를 열어 내용을 확인하고 <strong>첨삭 및 점수를 입력</strong>합니다.</li>
                <li>AI 자동 첨삭 기능을 활용하면 초안을 빠르게 생성할 수 있습니다.</li>
            </ol>
        </div>
    </div>

    <!-- 6. 수업 공지 및 메세지 -->
    <div id="section-msg" class="bg-white rounded-lg shadow p-6 mb-6">
        <h2 class="text-xl font-bold text-indigo-700 mb-4 flex items-center gap-2">
            <span class="bg-indigo-100 text-indigo-700 rounded-full w-8 h-8 flex items-center justify-center text-sm font-bold">6</span>
            수업 공지 및 메세지
        </h2>
        <div class="space-y-3 text-sm text-gray-700">
            <p>사이드바 <strong>내 수업 → 수업 공지 및 메세지</strong>로 이동합니다.</p>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-3">
                <div class="bg-blue-50 rounded-lg p-3">
                    <p class="font-semibold text-blue-800 mb-1">📢 수업 전체 공지</p>
                    <p class="text-blue-700 text-xs">수업을 선택하여 해당 수업 수강생 전원에게 공지 / 과제를 발송합니다.</p>
                </div>
                <div class="bg-purple-50 rounded-lg p-3">
                    <p class="font-semibold text-purple-800 mb-1">📬 개별 학생 메세지</p>
                    <p class="text-purple-700 text-xs">특정 학생에게만 개인 메세지 / 숙제를 발송합니다.</p>
                </div>
            </div>
            <div class="bg-green-50 border-l-4 border-green-400 p-3 rounded">
                <p class="text-green-800 text-xs">💡 <strong>학부모 포함 발송</strong> 체크박스를 선택하면 학생과 학부모 모두에게 알림이 전달됩니다.</p>
            </div>
        </div>
    </div>

    <!-- 7. 학습 자료 -->
    <div id="section-material" class="bg-white rounded-lg shadow p-6 mb-6">
        <h2 class="text-xl font-bold text-indigo-700 mb-4 flex items-center gap-2">
            <span class="bg-indigo-100 text-indigo-700 rounded-full w-8 h-8 flex items-center justify-center text-sm font-bold">7</span>
            학습 자료 등록
        </h2>
        <div class="space-y-3 text-sm text-gray-700">
            <p>사이드바 <strong>학습 자료</strong>로 이동합니다.</p>
            <ul class="list-disc list-inside space-y-1 bg-gray-50 rounded-lg p-4">
                <li>PDF, DOC, PPT, HWP, ZIP 등 파일을 업로드할 수 있습니다.</li>
                <li>학년별 또는 수업별로 공개 대상을 지정할 수 있습니다.</li>
                <li>게시 기간(시작일 / 종료일)을 설정하면 해당 기간에만 표시됩니다.</li>
            </ul>
        </div>
    </div>

    <!-- 8. 과제 -->
    <div id="section-assign" class="bg-white rounded-lg shadow p-6 mb-6">
        <h2 class="text-xl font-bold text-indigo-700 mb-4 flex items-center gap-2">
            <span class="bg-indigo-100 text-indigo-700 rounded-full w-8 h-8 flex items-center justify-center text-sm font-bold">8</span>
            과제 출제 및 채점
        </h2>
        <div class="space-y-3 text-sm text-gray-700">
            <p>사이드바 <strong>학습 관리 → 과제 관리</strong>로 이동합니다.</p>
            <ol class="list-decimal list-inside space-y-2 bg-gray-50 rounded-lg p-4">
                <li><strong>새 과제 출제</strong>를 클릭하여 제목, 내용, 마감일, 대상 수업을 설정합니다.</li>
                <li>학생이 과제를 제출하면 목록에서 확인 가능합니다.</li>
                <li>제출된 과제를 열어 <strong>점수 및 코멘트</strong>를 입력하고 채점합니다.</li>
                <li>채점 결과는 학생 포털에서 확인 가능합니다.</li>
            </ol>
        </div>
    </div>

    <!-- 9. 게시판 -->
    <div id="section-board" class="bg-white rounded-lg shadow p-6 mb-6">
        <h2 class="text-xl font-bold text-indigo-700 mb-4 flex items-center gap-2">
            <span class="bg-indigo-100 text-indigo-700 rounded-full w-8 h-8 flex items-center justify-center text-sm font-bold">9</span>
            게시판
        </h2>
        <div class="space-y-3 text-sm text-gray-700">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-3">
                <div class="border border-gray-200 rounded-lg p-3">
                    <p class="font-semibold text-gray-800 mb-1">💬 강사 게시판</p>
                    <p class="text-gray-600 text-xs">강사 전용 게시판입니다. 강사끼리 정보 공유 및 소통할 수 있습니다.</p>
                </div>
                <div class="border border-gray-200 rounded-lg p-3">
                    <p class="font-semibold text-gray-800 mb-1">📋 클래스 게시판</p>
                    <p class="text-gray-600 text-xs">수업별 학생 소통 공간입니다. 수업을 선택하여 게시글을 작성하세요.</p>
                </div>
                <div class="border border-gray-200 rounded-lg p-3">
                    <p class="font-semibold text-gray-800 mb-1">🔵 하크니스 게시판</p>
                    <p class="text-gray-600 text-xs">하크니스 수업 전용 토론 게시판입니다. 게시판을 생성하여 운영합니다.</p>
                </div>
            </div>
        </div>
    </div>

    <!-- 10. 학생 평가 -->
    <div id="section-eval" class="bg-white rounded-lg shadow p-6 mb-6">
        <h2 class="text-xl font-bold text-indigo-700 mb-4 flex items-center gap-2">
            <span class="bg-indigo-100 text-indigo-700 rounded-full w-8 h-8 flex items-center justify-center text-sm font-bold">10</span>
            학생 평가
        </h2>
        <div class="space-y-3 text-sm text-gray-700">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-3">
                <div class="bg-indigo-50 rounded-lg p-3">
                    <p class="font-semibold text-indigo-800 mb-1">📝 주간 평가</p>
                    <p class="text-indigo-700 text-xs">매주 학생의 수업 참여도, 이해도 등을 항목별로 평가합니다. 누적 데이터로 성장 추이를 확인할 수 있습니다.</p>
                </div>
                <div class="bg-indigo-50 rounded-lg p-3">
                    <p class="font-semibold text-indigo-800 mb-1">⭐ ACE 평가</p>
                    <p class="text-indigo-700 text-xs">분기별 종합 평가입니다. 결과는 학부모 리포트로 출력할 수 있습니다.</p>
                </div>
            </div>
            <div class="bg-gray-50 rounded-lg p-3">
                <p class="font-semibold text-gray-700 mb-1">📚 독서 MBTI</p>
                <p class="text-gray-600 text-xs">학생의 독서 성향을 파악하는 설문입니다. 결과를 바탕으로 맞춤 지도 방향을 설정할 수 있습니다.</p>
            </div>
        </div>
    </div>

    <!-- 11. FAQ -->
    <div id="section-faq" class="bg-white rounded-lg shadow p-6 mb-6">
        <h2 class="text-xl font-bold text-indigo-700 mb-4 flex items-center gap-2">
            <span class="bg-indigo-100 text-indigo-700 rounded-full w-8 h-8 flex items-center justify-center text-sm font-bold">11</span>
            자주 묻는 질문 (FAQ)
        </h2>
        <div class="space-y-3">
            {% set faqs = [
                ('출석을 잘못 체크했어요.', '수업 목록 → 해당 수업 → 세션 클릭 → 출석 현황에서 언제든지 수정 가능합니다.'),
                ('피드백을 작성했는데 학생이 볼 수 있나요?', '아니요. 피드백은 학부모와 관리자만 열람할 수 있습니다. 학생에게는 표시되지 않습니다.'),
                ('수업 공지를 보냈는데 학부모한테도 가나요?', '메세지 작성 시 "학부모 포함 발송" 체크박스를 선택한 경우에만 학부모에게도 알림이 발송됩니다.'),
                ('학생이 에세이를 제출하면 어떻게 알 수 있나요?', '알림(🔔)에 새 제출 알림이 표시됩니다. 알림을 클릭하면 바로 이동됩니다.'),
                ('수업에 학생을 추가하거나 빼고 싶어요.', '수강생 변경은 관리자만 가능합니다. 관리자에게 요청해 주세요.'),
                ('비밀번호를 변경하고 싶어요.', '좌측 하단 프로필 → 비밀번호 변경에서 직접 변경할 수 있습니다.')
            ] %}
            {% for q, a in faqs %}
            <div class="border border-gray-200 rounded-lg p-4">
                <p class="font-semibold text-gray-800 mb-1">Q. {{ q }}</p>
                <p class="text-gray-600 text-sm">A. {{ a }}</p>
            </div>
            {% endfor %}
        </div>
    </div>

    <!-- 문의 안내 -->
    <div class="bg-indigo-600 rounded-lg p-6 mb-6 text-white text-center">
        <p class="text-lg font-bold mb-1">추가 문의사항이 있으신가요?</p>
        <p class="text-indigo-200 text-sm mb-3">시스템 이용 중 문제가 발생하면 관리자에게 문의해 주세요.</p>
        <a href="{{ url_for('inquiry.new_inquiry') }}"
           class="inline-block bg-white text-indigo-600 font-semibold px-6 py-2 rounded-lg hover:bg-indigo-50 transition">
            📬 문의하기
        </a>
    </div>

    <!-- 맨 위로 -->
    <div class="text-center mb-8">
        <a href="#" class="text-gray-500 hover:text-gray-700 text-sm">▲ 맨 위로</a>
    </div>

</div>
{% endblock %}
