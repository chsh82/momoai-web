{% extends "base.html" %}

{% block title %}ë…ì„œ ë…¼ìˆ  MBTI ê²°ê³¼ - {{ result.student.name }} - MOMOAI v4.0{% endblock %}

{% block page_title %}ğŸ§  MBTI ê²°ê³¼ ìƒì„¸{% endblock %}

{% block page_subtitle %}
<span class="text-sm text-white text-opacity-70 ml-3">ë…ì„œë…¼ìˆ  ì„±í–¥ ë¶„ì„</span>
{% endblock %}


{% block content %}
<div class="max-w-6xl mx-auto">
    <!-- Header -->
    <div class="mb-6">
        <a href="{{ url_for('admin.student_profile', student_id=result.student_id) }}"
           class="text-blue-600 hover:text-blue-800 font-medium mb-2 inline-block">
            â† {{ result.student.name }} í•™ìƒ í”„ë¡œí•„ë¡œ
        </a>
        <h2 class="text-3xl font-bold text-gray-800">ë…ì„œ ë…¼ìˆ  MBTI ê²°ê³¼</h2>
        <p class="text-gray-600 mt-2">{{ result.student.name }} í•™ìƒì˜ ë…ì„œ ë…¼ìˆ  ì„±í–¥ ë¶„ì„</p>
    </div>

    <!-- ê¸°ë³¸ ì •ë³´ -->
    <div class="bg-gradient-to-br from-purple-50 to-pink-50 rounded-lg shadow-lg p-6 mb-6 border-2 border-purple-200">
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
            <!-- ìœ í˜• -->
            <div class="text-center">
                <p class="text-sm text-purple-600 font-medium mb-2">ìœ í˜•</p>
                <p class="text-4xl font-bold text-purple-900 mb-2">{{ mbti_type.type_name }}</p>
                <p class="text-sm text-purple-700">{{ result.type_combination }}</p>
            </div>

            <!-- í•™ìƒ ì •ë³´ -->
            <div class="text-center">
                <p class="text-sm text-purple-600 font-medium mb-2">í•™ìƒ ì •ë³´</p>
                <p class="text-xl font-bold text-gray-800 mb-1">{{ result.student.name }}</p>
                <p class="text-sm text-gray-600">{{ result.student.grade }}</p>
            </div>

            <!-- í…ŒìŠ¤íŠ¸ ì¼ì‹œ -->
            <div class="text-center">
                <p class="text-sm text-purple-600 font-medium mb-2">í…ŒìŠ¤íŠ¸ ì¼ì‹œ</p>
                <p class="text-lg font-medium text-gray-800">{{ result.created_at.strftime('%Y-%m-%d') }}</p>
                <p class="text-sm text-gray-600">{{ result.created_at.strftime('%H:%M') }}</p>
            </div>
        </div>
    </div>

    <!-- ìœ í˜• ì„¤ëª… -->
    <div class="bg-white rounded-lg shadow-lg p-6 mb-6">
        <h3 class="text-xl font-bold text-gray-800 mb-4">ğŸ’¡ ìœ í˜• ì„¤ëª…</h3>
        <div class="space-y-4">
            <div>
                <p class="text-sm text-gray-600 font-medium mb-2">íŠ¹ì§•</p>
                <p class="text-gray-800">{{ mbti_type.full_description or '-' }}</p>
            </div>
            {% if mbti_type.combo_description %}
            <div>
                <p class="text-sm text-gray-600 font-medium mb-2">ì¡°í•© ì„¤ëª…</p>
                <p class="text-gray-800">{{ mbti_type.combo_description }}</p>
            </div>
            {% endif %}
        </div>
    </div>

    <!-- ì„¸ë¶€ ì ìˆ˜ -->
    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-6">
        <!-- ì½ê¸° (Read) -->
        <div class="bg-white rounded-lg shadow p-6">
            <h3 class="text-lg font-bold text-blue-900 mb-4">ğŸ“– ì½ê¸° (Read)</h3>
            <div class="space-y-3">
                <div class="flex items-center justify-between">
                    <span class="text-sm text-gray-600">ì–´íœ˜í˜•</span>
                    <span class="text-lg font-bold text-blue-700">{{ result.scores.read.vocab }}</span>
                </div>
                <div class="flex items-center justify-between">
                    <span class="text-sm text-gray-600">ì¬ë…í˜•</span>
                    <span class="text-lg font-bold text-blue-700">{{ result.scores.read.reread }}</span>
                </div>
                <div class="flex items-center justify-between">
                    <span class="text-sm text-gray-600">ë¶„ì„í˜•</span>
                    <span class="text-lg font-bold text-blue-700">{{ result.scores.read.analyze }}</span>
                </div>
                <div class="pt-3 border-t border-gray-200">
                    <p class="text-sm text-gray-600 mb-1">ê²°ì • ìœ í˜•</p>
                    <p class="text-lg font-bold text-blue-900">{{ result.read_type }}</p>
                </div>
            </div>
        </div>

        <!-- ë§í•˜ê¸° (Speech) -->
        <div class="bg-white rounded-lg shadow p-6">
            <h3 class="text-lg font-bold text-green-900 mb-4">ğŸ’¬ ë§í•˜ê¸° (Speech)</h3>
            <div class="space-y-3">
                <div class="flex items-center justify-between">
                    <span class="text-sm text-gray-600">í…ìŠ¤íŠ¸í˜•</span>
                    <span class="text-lg font-bold text-green-700">{{ result.scores.speech.textual }}</span>
                </div>
                <div class="flex items-center justify-between">
                    <span class="text-sm text-gray-600">í™•ì¥í˜•</span>
                    <span class="text-lg font-bold text-green-700">{{ result.scores.speech.expand }}</span>
                </div>
                <div class="flex items-center justify-between">
                    <span class="text-sm text-gray-600">ì„ ë„í˜•</span>
                    <span class="text-lg font-bold text-green-700">{{ result.scores.speech.lead }}</span>
                </div>
                <div class="pt-3 border-t border-gray-200">
                    <p class="text-sm text-gray-600 mb-1">ê²°ì • ìœ í˜•</p>
                    <p class="text-lg font-bold text-green-900">{{ result.speech_type }}</p>
                </div>
            </div>
        </div>

        <!-- ì“°ê¸° (Write) -->
        <div class="bg-white rounded-lg shadow p-6">
            <h3 class="text-lg font-bold text-orange-900 mb-4">âœï¸ ì“°ê¸° (Write)</h3>
            <div class="space-y-3">
                <div class="flex items-center justify-between">
                    <span class="text-sm text-gray-600">ìš”ì•½í˜•</span>
                    <span class="text-lg font-bold text-orange-700">{{ result.scores.write.summary }}</span>
                </div>
                <div class="flex items-center justify-between">
                    <span class="text-sm text-gray-600">ë…¼ë¦¬í˜•</span>
                    <span class="text-lg font-bold text-orange-700">{{ result.scores.write.logic }}</span>
                </div>
                <div class="flex items-center justify-between">
                    <span class="text-sm text-gray-600">ì¬êµ¬ì„±í˜•</span>
                    <span class="text-lg font-bold text-orange-700">{{ result.scores.write.rewrite }}</span>
                </div>
                <div class="pt-3 border-t border-gray-200">
                    <p class="text-sm text-gray-600 mb-1">ê²°ì • ìœ í˜•</p>
                    <p class="text-lg font-bold text-orange-900">{{ result.write_type }}</p>
                </div>
            </div>
        </div>
    </div>

    <!-- êµìœ¡ ê¶Œì¥ì‚¬í•­ -->
    <div class="bg-white rounded-lg shadow-lg p-6 mb-6">
        <h3 class="text-xl font-bold text-gray-800 mb-4">ğŸ¯ êµìœ¡ ê¶Œì¥ì‚¬í•­</h3>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <!-- ê°•ì  -->
            <div>
                <p class="text-sm text-green-600 font-bold mb-3">âœ… ê°•ì </p>
                <ul class="space-y-2">
                    {% for strength in recommendations.strengths %}
                    <li class="text-sm text-gray-700">â€¢ {{ strength }}</li>
                    {% endfor %}
                </ul>
            </div>

            <!-- ì•½ì  -->
            <div>
                <p class="text-sm text-red-600 font-bold mb-3">âš ï¸ ë³´ì™„ í•„ìš”</p>
                <ul class="space-y-2">
                    {% for weakness in recommendations.weaknesses %}
                    <li class="text-sm text-gray-700">â€¢ {{ weakness }}</li>
                    {% endfor %}
                </ul>
            </div>
        </div>

        <!-- ì§€ë„ íŒ -->
        <div class="mt-6 pt-6 border-t border-gray-200">
            <p class="text-sm text-blue-600 font-bold mb-3">ğŸ’¡ ì§€ë„ íŒ</p>
            <ul class="space-y-2">
                {% for tip in recommendations.tips %}
                <li class="text-sm text-gray-700">â€¢ {{ tip }}</li>
                {% endfor %}
            </ul>
        </div>

        <!-- ê¶Œì¥ ì ‘ê·¼ë²• -->
        <div class="mt-6 pt-6 border-t border-gray-200">
            <p class="text-sm text-purple-600 font-bold mb-3">ğŸ“š ê¶Œì¥ ì ‘ê·¼ë²•</p>
            <ul class="space-y-2">
                {% for approach in recommendations.recommended_approaches %}
                <li class="text-sm text-gray-700">â€¢ {{ approach }}</li>
                {% endfor %}
            </ul>
        </div>
    </div>

    <!-- í•™ìŠµ ìŠ¤íƒ€ì¼ ìƒì„¸ -->
    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-6">
        <!-- ì½ê¸° ìŠ¤íƒ€ì¼ -->
        <div class="bg-blue-50 rounded-lg p-4">
            <p class="text-sm text-blue-900 font-bold mb-2">ğŸ“– ì½ê¸° ìŠ¤íƒ€ì¼</p>
            <p class="text-sm text-gray-700">{{ recommendations.reading_style }}</p>
        </div>

        <!-- ë§í•˜ê¸° ìŠ¤íƒ€ì¼ -->
        <div class="bg-green-50 rounded-lg p-4">
            <p class="text-sm text-green-900 font-bold mb-2">ğŸ’¬ ë§í•˜ê¸° ìŠ¤íƒ€ì¼</p>
            <p class="text-sm text-gray-700">{{ recommendations.speaking_style }}</p>
        </div>

        <!-- ì“°ê¸° ìŠ¤íƒ€ì¼ -->
        <div class="bg-orange-50 rounded-lg p-4">
            <p class="text-sm text-orange-900 font-bold mb-2">âœï¸ ì“°ê¸° ìŠ¤íƒ€ì¼</p>
            <p class="text-sm text-gray-700">{{ recommendations.writing_style }}</p>
        </div>
    </div>

    <!-- ë’¤ë¡œ ê°€ê¸° -->
    <div class="text-center">
        <a href="{{ url_for('admin.student_profile', student_id=result.student_id) }}"
           class="inline-block bg-gray-600 hover:bg-gray-700 text-white px-6 py-3 rounded-lg font-medium transition duration-200">
            â† í•™ìƒ í”„ë¡œí•„ë¡œ ëŒì•„ê°€ê¸°
        </a>
    </div>
</div>
{% endblock %}
