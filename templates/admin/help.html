{% extends "base.html" %}

{% block title %}관리자 사이트 사용 설명서 - MOMOAI v4.0{% endblock %}
{% block page_title %}📖 관리자 사이트 사용 설명서{% endblock %}
{% block page_subtitle %}
<span class="text-sm text-white text-opacity-70 ml-3">MOMOAI 관리자 기능 전체 안내</span>
{% endblock %}

{% block content %}
<div class="max-w-4xl mx-auto">

    <!-- PDF 다운로드 버튼 -->
    <div class="flex justify-end mb-4">
        <a href="{{ url_for('admin.help_pdf') }}"
           class="inline-flex items-center gap-2 bg-indigo-600 hover:bg-indigo-700 text-white text-sm font-semibold px-5 py-2 rounded-lg shadow transition">
            <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                      d="M4 16v2a2 2 0 002 2h12a2 2 0 002-2v-2M7 10l5 5 5-5M12 15V3"/>
            </svg>
            PDF 다운로드
        </a>
    </div>

    <!-- 목차 -->
    <div class="bg-white rounded-lg shadow p-6 mb-6">
        <h2 class="text-xl font-bold text-gray-800 mb-4">📋 목차</h2>
        <div class="grid grid-cols-2 gap-2 text-sm">
            <a href="#section-login"    class="flex items-center gap-2 text-blue-600 hover:underline"><span>1.</span> 로그인 및 계정 관리</a>
            <a href="#section-students" class="flex items-center gap-2 text-blue-600 hover:underline"><span>2.</span> 학생 관리</a>
            <a href="#section-courses"  class="flex items-center gap-2 text-blue-600 hover:underline"><span>3.</span> 수업 관리</a>
            <a href="#section-payment"  class="flex items-center gap-2 text-blue-600 hover:underline"><span>4.</span> 수납 관리</a>
            <a href="#section-teachers" class="flex items-center gap-2 text-blue-600 hover:underline"><span>5.</span> 강사 관리</a>
            <a href="#section-parents"  class="flex items-center gap-2 text-blue-600 hover:underline"><span>6.</span> 학부모 관리</a>
            <a href="#section-content"  class="flex items-center gap-2 text-blue-600 hover:underline"><span>7.</span> 교재 및 동영상 관리</a>
            <a href="#section-announce" class="flex items-center gap-2 text-blue-600 hover:underline"><span>8.</span> 공지사항 및 문자 발송</a>
            <a href="#section-schedule" class="flex items-center gap-2 text-blue-600 hover:underline"><span>9.</span> 전체 수업 현황</a>
            <a href="#section-faq"      class="flex items-center gap-2 text-blue-600 hover:underline"><span>10.</span> 자주 묻는 질문</a>
        </div>
    </div>

    <!-- 1. 로그인 및 계정 관리 -->
    <div id="section-login" class="bg-white rounded-lg shadow p-6 mb-6">
        <h2 class="text-xl font-bold text-gray-800 mb-4">1. 로그인 및 계정 관리</h2>
        <div class="space-y-3 text-sm text-gray-700">
            <div class="flex gap-3">
                <span class="text-blue-500 font-bold flex-shrink-0">①</span>
                <div><strong>관리자 로그인:</strong> momoai.kr 접속 후 관리자 계정(이메일/비밀번호)으로 로그인합니다.</div>
            </div>
            <div class="flex gap-3">
                <span class="text-blue-500 font-bold flex-shrink-0">②</span>
                <div><strong>역할 구분:</strong> master_admin(최고 관리자), manager(매니저) 두 가지 권한이 있습니다. master_admin만 완전 삭제 기능을 사용할 수 있습니다.</div>
            </div>
            <div class="flex gap-3">
                <span class="text-blue-500 font-bold flex-shrink-0">③</span>
                <div><strong>아이디 관리:</strong> 사이드바 → 아이디 관리에서 비활성 계정을 조회하고 복원할 수 있습니다.</div>
            </div>
            <div class="bg-yellow-50 border border-yellow-200 rounded p-3 mt-2">
                <strong>⚠️ 주의:</strong> 계정 완전 삭제는 복원이 불가능합니다. 신중하게 진행하세요.
            </div>
        </div>
    </div>

    <!-- 2. 학생 관리 -->
    <div id="section-students" class="bg-white rounded-lg shadow p-6 mb-6">
        <h2 class="text-xl font-bold text-gray-800 mb-4">2. 학생 관리</h2>
        <div class="space-y-3 text-sm text-gray-700">
            <div class="flex gap-3">
                <span class="text-blue-500 font-bold flex-shrink-0">①</span>
                <div><strong>학생 목록 조회:</strong> 사이드바 → 학생 관리 → 학생 목록에서 전체 학생을 학년·이름 기준으로 검색할 수 있습니다.</div>
            </div>
            <div class="flex gap-3">
                <span class="text-blue-500 font-bold flex-shrink-0">②</span>
                <div><strong>학생 등록:</strong> 학생 추가 버튼 클릭 → 이름, 학년, 이메일, 담당 강사를 입력합니다. 계정 이메일을 입력하면 학생 계정과 자동 연동됩니다.</div>
            </div>
            <div class="flex gap-3">
                <span class="text-blue-500 font-bold flex-shrink-0">③</span>
                <div><strong>학생 프로필:</strong> 학생 상세 페이지에서 학습 성향, 독서 이력, 티어(A/B/C/VIP)를 관리합니다.</div>
            </div>
            <div class="flex gap-3">
                <span class="text-blue-500 font-bold flex-shrink-0">④</span>
                <div><strong>학생 삭제:</strong> 학생 상세 → 삭제 버튼. 관련된 모든 데이터(첨삭, 출결 등)가 함께 삭제됩니다.</div>
            </div>
        </div>
    </div>

    <!-- 3. 수업 관리 -->
    <div id="section-courses" class="bg-white rounded-lg shadow p-6 mb-6">
        <h2 class="text-xl font-bold text-gray-800 mb-4">3. 수업 관리</h2>
        <div class="space-y-3 text-sm text-gray-700">
            <div class="flex gap-3">
                <span class="text-blue-500 font-bold flex-shrink-0">①</span>
                <div><strong>수업 개설:</strong> 사이드바 → 수업 관리 → 수업 개설. 학년, 수업 유형(베이직/프리미엄/정규반/하크니스), 시작일, 강사를 선택하면 수업명과 코드가 자동 생성됩니다.</div>
            </div>
            <div class="flex gap-3">
                <span class="text-blue-500 font-bold flex-shrink-0">②</span>
                <div><strong>학생 등록:</strong> 수업 상세 → 학생 관리 탭에서 학년 선택 후 학생을 수업에 등록합니다.</div>
            </div>
            <div class="flex gap-3">
                <span class="text-blue-500 font-bold flex-shrink-0">③</span>
                <div><strong>보강수업 승인:</strong> 학생/학부모가 신청한 보강수업 요청을 검토하고 승인 또는 반려합니다. 승인 시 1회 보강 수업이 자동 생성됩니다.</div>
            </div>
            <div class="flex gap-3">
                <span class="text-blue-500 font-bold flex-shrink-0">④</span>
                <div><strong>전체 수업 현황:</strong> 강사별 주간 시간표를 한눈에 확인할 수 있습니다.</div>
            </div>
        </div>
    </div>

    <!-- 4. 수납 관리 -->
    <div id="section-payment" class="bg-white rounded-lg shadow p-6 mb-6">
        <h2 class="text-xl font-bold text-gray-800 mb-4">4. 수납 관리</h2>
        <div class="space-y-3 text-sm text-gray-700">
            <div class="flex gap-3">
                <span class="text-blue-500 font-bold flex-shrink-0">①</span>
                <div><strong>수납 내역 조회:</strong> 사이드바 → 수납 관리에서 월별, 학생별 수납 내역을 확인합니다.</div>
            </div>
            <div class="flex gap-3">
                <span class="text-blue-500 font-bold flex-shrink-0">②</span>
                <div><strong>수납 등록:</strong> 출결 기반으로 자동 계산된 수업료를 확인 후 수납 처리합니다.</div>
            </div>
            <div class="flex gap-3">
                <span class="text-blue-500 font-bold flex-shrink-0">③</span>
                <div><strong>미납 관리:</strong> 납부 상태(대기/완료/취소)로 필터링하여 미납 학생을 파악합니다.</div>
            </div>
        </div>
    </div>

    <!-- 5. 강사 관리 -->
    <div id="section-teachers" class="bg-white rounded-lg shadow p-6 mb-6">
        <h2 class="text-xl font-bold text-gray-800 mb-4">5. 강사 관리</h2>
        <div class="space-y-3 text-sm text-gray-700">
            <div class="flex gap-3">
                <span class="text-blue-500 font-bold flex-shrink-0">①</span>
                <div><strong>강사 목록:</strong> 사이드바 → 강사 관리에서 전체 강사 목록을 확인합니다.</div>
            </div>
            <div class="flex gap-3">
                <span class="text-blue-500 font-bold flex-shrink-0">②</span>
                <div><strong>강사 계정 생성:</strong> 이메일, 이름, 권한 레벨을 설정하여 새 강사 계정을 생성합니다.</div>
            </div>
            <div class="flex gap-3">
                <span class="text-blue-500 font-bold flex-shrink-0">③</span>
                <div><strong>강사 수업 현황:</strong> 전체 수업 현황에서 강사를 선택하여 해당 강사의 주간 일정을 확인합니다.</div>
            </div>
        </div>
    </div>

    <!-- 6. 학부모 관리 -->
    <div id="section-parents" class="bg-white rounded-lg shadow p-6 mb-6">
        <h2 class="text-xl font-bold text-gray-800 mb-4">6. 학부모 관리</h2>
        <div class="space-y-3 text-sm text-gray-700">
            <div class="flex gap-3">
                <span class="text-blue-500 font-bold flex-shrink-0">①</span>
                <div><strong>학부모 목록:</strong> 사이드바 → 학부모 관리에서 전체 학부모 계정을 조회합니다.</div>
            </div>
            <div class="flex gap-3">
                <span class="text-blue-500 font-bold flex-shrink-0">②</span>
                <div><strong>자녀 연결 승인:</strong> 사이드바 → 학부모 연결 관리에서 학부모의 자녀 연결 요청을 검토하고 승인합니다.</div>
            </div>
            <div class="flex gap-3">
                <span class="text-blue-500 font-bold flex-shrink-0">③</span>
                <div><strong>학부모 계정 삭제:</strong> 학부모 목록 → 완전 삭제 버튼 (master_admin 전용). 관련 연결 데이터도 함께 삭제됩니다.</div>
            </div>
        </div>
    </div>

    <!-- 7. 교재 및 동영상 관리 -->
    <div id="section-content" class="bg-white rounded-lg shadow p-6 mb-6">
        <h2 class="text-xl font-bold text-gray-800 mb-4">7. 교재 및 동영상 관리</h2>
        <div class="space-y-3 text-sm text-gray-700">
            <div class="flex gap-3">
                <span class="text-blue-500 font-bold flex-shrink-0">①</span>
                <div><strong>학습 교재 등록:</strong> 사이드바 → 학습 교재에서 PDF, DOC, HWP 등 파일을 업로드하고 학년별 또는 수업별로 공개 범위를 설정합니다.</div>
            </div>
            <div class="flex gap-3">
                <span class="text-blue-500 font-bold flex-shrink-0">②</span>
                <div><strong>동영상 등록:</strong> 사이드바 → 학습 동영상에서 YouTube URL을 입력하거나 직접 파일을 업로드합니다.</div>
            </div>
            <div class="flex gap-3">
                <span class="text-blue-500 font-bold flex-shrink-0">③</span>
                <div><strong>공개 기간 설정:</strong> 게시 시작일과 종료일을 설정하여 기간 限 자료를 제공합니다.</div>
            </div>
            <div class="flex gap-3">
                <span class="text-blue-500 font-bold flex-shrink-0">④</span>
                <div><strong>접근 통계:</strong> 각 자료의 다운로드 수, 조회 수를 확인합니다.</div>
            </div>
        </div>
    </div>

    <!-- 8. 공지사항 및 문자 발송 -->
    <div id="section-announce" class="bg-white rounded-lg shadow p-6 mb-6">
        <h2 class="text-xl font-bold text-gray-800 mb-4">8. 공지사항 및 문자 발송</h2>
        <div class="space-y-3 text-sm text-gray-700">
            <div class="flex gap-3">
                <span class="text-blue-500 font-bold flex-shrink-0">①</span>
                <div><strong>공지사항 작성:</strong> 사이드바 → 공지사항 관리에서 전체 또는 특정 역할 대상 공지를 작성합니다.</div>
            </div>
            <div class="flex gap-3">
                <span class="text-blue-500 font-bold flex-shrink-0">②</span>
                <div><strong>문자 발송:</strong> 사이드바 → 문자 발송에서 학생/학부모 계정으로 문자 메시지를 발송합니다. 개별 또는 그룹 발송이 가능합니다.</div>
            </div>
            <div class="flex gap-3">
                <span class="text-blue-500 font-bold flex-shrink-0">③</span>
                <div><strong>발송 내역 조회:</strong> 사이드바 → 문자 내역에서 발신자, 내용 키워드로 검색할 수 있습니다.</div>
            </div>
        </div>
    </div>

    <!-- 9. 전체 수업 현황 -->
    <div id="section-schedule" class="bg-white rounded-lg shadow p-6 mb-6">
        <h2 class="text-xl font-bold text-gray-800 mb-4">9. 전체 수업 현황</h2>
        <div class="space-y-3 text-sm text-gray-700">
            <div class="flex gap-3">
                <span class="text-blue-500 font-bold flex-shrink-0">①</span>
                <div><strong>주간 시간표:</strong> 사이드바 → 전체 수업현황. 강사 드롭다운에서 강사를 선택하면 해당 강사의 주간 일정이 표시됩니다.</div>
            </div>
            <div class="flex gap-3">
                <span class="text-blue-500 font-bold flex-shrink-0">②</span>
                <div><strong>주차 이동:</strong> 이전 주 / 이번 주 / 다음 주 버튼으로 주차를 이동합니다.</div>
            </div>
            <div class="flex gap-3">
                <span class="text-blue-500 font-bold flex-shrink-0">③</span>
                <div><strong>수업 통계:</strong> 전체 세션, 예정/완료/취소 수업 수가 상단 통계 카드에 표시됩니다.</div>
            </div>
        </div>
    </div>

    <!-- 10. FAQ -->
    <div id="section-faq" class="bg-white rounded-lg shadow p-6 mb-6">
        <h2 class="text-xl font-bold text-gray-800 mb-4">10. 자주 묻는 질문</h2>
        <div class="space-y-4 text-sm text-gray-700">
            <div>
                <p class="font-semibold text-gray-800">Q. 삭제한 학생 데이터를 복구할 수 있나요?</p>
                <p class="mt-1 text-gray-600">A. 영구 삭제 후에는 복구가 불가능합니다. 삭제 전 내보내기 또는 비활성화를 먼저 고려하세요.</p>
            </div>
            <div>
                <p class="font-semibold text-gray-800">Q. 비활성 계정과 영구 삭제의 차이는?</p>
                <p class="mt-1 text-gray-600">A. 비활성화는 로그인만 차단하며 데이터는 보존됩니다. 아이디 관리 페이지에서 복원 가능합니다. 영구 삭제는 모든 데이터가 삭제되며 복원 불가합니다.</p>
            </div>
            <div>
                <p class="font-semibold text-gray-800">Q. 새 강사/학부모 계정은 어떻게 만드나요?</p>
                <p class="mt-1 text-gray-600">A. 강사: 강사 관리 → 강사 추가. 학부모: 직접 회원가입 후 자녀 연결 신청 → 관리자 승인 순서로 진행합니다.</p>
            </div>
            <div>
                <p class="font-semibold text-gray-800">Q. 문의 게시판 답변은 어디서 하나요?</p>
                <p class="mt-1 text-gray-600">A. 사이드바 → 게시판 → 문의 관리에서 학부모/학생의 문의에 답변할 수 있습니다.</p>
            </div>
        </div>
    </div>

</div>
{% endblock %}
