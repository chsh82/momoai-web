{% extends "base.html" %}

{% block title %}ì‹ ê·œ ë“±ë¡ ì„¤ë¬¸ - MOMOAI v4.0{% endblock %}

{% block content %}
<div class="max-w-4xl mx-auto">
    <!-- Header -->
    <div class="mb-6">
        <h2 class="text-3xl font-bold text-gray-800">ğŸ“ ì‹ ê·œ í•™ìƒ ë“±ë¡ ì„¤ë¬¸</h2>
        <p class="text-gray-600 mt-2">ìë…€ì˜ ì •ë³´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”. ëª¨ë“  ì •ë³´ëŠ” ë§ì¶¤í˜• êµìœ¡ì„ ìœ„í•´ ì‚¬ìš©ë©ë‹ˆë‹¤.</p>
    </div>

    <!-- Important Notice -->
    <div class="bg-blue-50 border-l-4 border-blue-500 p-6 mb-6">
        <div class="flex">
            <div class="flex-shrink-0">
                <svg class="h-6 w-6 text-blue-500" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"/>
                </svg>
            </div>
            <div class="ml-3">
                <h3 class="text-sm font-semibold text-blue-800">âš ï¸ ì¤‘ìš” ì•ˆë‚´</h3>
                <div class="mt-2 text-sm text-blue-700">
                    <p class="mb-2"><strong>ìë…€ê°€ ì´ë¯¸ ëª¨ëª¨ì˜ ì±…ì¥ í•™ìƒì¸ ê²½ìš°:</strong></p>
                    <p>ì´ ì„¤ë¬¸ì€ <strong>ì™„ì „íˆ ìƒˆë¡œìš´ í•™ìƒ</strong>ì„ ë“±ë¡í•  ë•Œë§Œ ì‚¬ìš©í•´ì£¼ì„¸ìš”.</p>
                    <p class="mt-2">ìë…€ê°€ ì´ë¯¸ ë“±ë¡ë˜ì–´ ìˆë‹¤ë©´ <a href="{{ url_for('parent.link_requests') }}" class="font-semibold underline hover:text-blue-900">ğŸ”— ìë…€ ì—°ê²°</a> ë©”ë‰´ë¥¼ ì´ìš©í•´ì£¼ì„¸ìš”.</p>
                    <p class="mt-3 text-xs">ğŸ’¡ ì´ë¦„ê³¼ ìƒë…„ì›”ì¼ì´ ê°™ì€ í•™ìƒì´ ìˆìœ¼ë©´ ìë™ìœ¼ë¡œ í™•ì¸ ê³¼ì •ì„ ê±°ì¹©ë‹ˆë‹¤.</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Form -->
    <form method="POST" action="{{ url_for('parent.registration_survey') }}">
        {{ form.hidden_tag() }}

        <!-- ì„¹ì…˜ 1: ê¸°ë³¸ ì •ë³´ (1-7ë²ˆ) -->
        <div class="bg-white rounded-lg shadow-lg p-8 mb-6">
            <h3 class="text-xl font-bold text-blue-800 mb-6 pb-3 border-b border-blue-200">
                ğŸ“‹ ê¸°ë³¸ ì •ë³´
            </h3>

            <!-- 1. í•™ìƒ ì´ë¦„ -->
            <div class="mb-6">
                <label class="block text-sm font-bold text-gray-700 mb-2">
                    {{ form.student_name.label }}
                    <span class="text-red-500">*</span>
                </label>
                {{ form.student_name(class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500") }}
                {% if form.student_name.errors %}
                <p class="text-red-500 text-xs mt-1">{{ form.student_name.errors[0] }}</p>
                {% endif %}
            </div>

            <!-- 2. ì„±ë³„ -->
            <div class="mb-6">
                <label class="block text-sm font-bold text-gray-700 mb-2">
                    {{ form.student_gender.label }}
                    <span class="text-red-500">*</span>
                </label>
                <div class="flex gap-4">
                    {% for subfield in form.student_gender %}
                    <label class="flex items-center">
                        {{ subfield(class="mr-2") }}
                        <span class="text-gray-700">{{ subfield.label }}</span>
                    </label>
                    {% endfor %}
                </div>
                {% if form.student_gender.errors %}
                <p class="text-red-500 text-xs mt-1">{{ form.student_gender.errors[0] }}</p>
                {% endif %}
            </div>

            <!-- 3. ìƒë…„ì›”ì¼ -->
            <div class="mb-6">
                <label class="block text-sm font-bold text-gray-700 mb-2">
                    {{ form.student_birthdate.label }}
                    <span class="text-red-500">*</span>
                </label>
                {{ form.student_birthdate(class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500") }}
                {% if form.student_birthdate.errors %}
                <p class="text-red-500 text-xs mt-1">{{ form.student_birthdate.errors[0] }}</p>
                {% endif %}
            </div>

            <!-- 4. ì£¼ì†Œ -->
            <div class="mb-6">
                <label class="block text-sm font-bold text-gray-700 mb-2">
                    {{ form.address.label }}
                    <span class="text-red-500">*</span>
                </label>
                {{ form.address(class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500") }}
                {% if form.address.errors %}
                <p class="text-red-500 text-xs mt-1">{{ form.address.errors[0] }}</p>
                {% endif %}
            </div>

            <!-- 5. í•™ë¶€ëª¨ ì—°ë½ì²˜ -->
            <div class="mb-6">
                <label class="block text-sm font-bold text-gray-700 mb-2">
                    {{ form.parent_contact.label }}
                    <span class="text-red-500">*</span>
                </label>
                {{ form.parent_contact(class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500") }}
                {% if form.parent_contact.errors %}
                <p class="text-red-500 text-xs mt-1">{{ form.parent_contact.errors[0] }}</p>
                {% endif %}
            </div>

            <!-- 6. ì¬í•™ ì¤‘ì¸ í•™êµ -->
            <div class="mb-6">
                <label class="block text-sm font-bold text-gray-700 mb-2">
                    {{ form.current_school.label }}
                    <span class="text-red-500">*</span>
                </label>
                {{ form.current_school(class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500") }}
                {% if form.current_school.errors %}
                <p class="text-red-500 text-xs mt-1">{{ form.current_school.errors[0] }}</p>
                {% endif %}
            </div>

            <!-- 7. í•™ë…„ -->
            <div class="mb-6">
                <label class="block text-sm font-bold text-gray-700 mb-2">
                    {{ form.grade.label }}
                    <span class="text-red-500">*</span>
                </label>
                {{ form.grade(class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500") }}
                {% if form.grade.errors %}
                <p class="text-red-500 text-xs mt-1">{{ form.grade.errors[0] }}</p>
                {% endif %}
            </div>
        </div>

        <!-- ì„¹ì…˜ 2: ë…ì„œ ê²½í—˜ ë° ì—­ëŸ‰ (8-12ë²ˆ) -->
        <div class="bg-white rounded-lg shadow-lg p-8 mb-6">
            <h3 class="text-xl font-bold text-purple-800 mb-6 pb-3 border-b border-purple-200">
                ğŸ“š ë…ì„œ ê²½í—˜ ë° ì—­ëŸ‰
            </h3>

            <!-- 8. ë…ì„œë…¼ìˆ  ìˆ˜ì—… ê²½í—˜ -->
            <div class="mb-6">
                <label class="block text-sm font-bold text-gray-700 mb-2">
                    {{ form.reading_experience.label }}
                    <span class="text-red-500">*</span>
                </label>
                <div class="space-y-2">
                    {% for subfield in form.reading_experience %}
                    <label class="flex items-start">
                        {{ subfield(class="mr-2 mt-1") }}
                        <span class="text-gray-700">{{ subfield.label }}</span>
                    </label>
                    {% endfor %}
                </div>
                {% if form.reading_experience.errors %}
                <p class="text-red-500 text-xs mt-1">{{ form.reading_experience.errors[0] }}</p>
                {% endif %}
            </div>

            <!-- 9. ë…ì„œì—­ëŸ‰ -->
            <div class="mb-6">
                <label class="block text-sm font-bold text-gray-700 mb-2">
                    {{ form.reading_competency.label }}
                    <span class="text-red-500">*</span>
                </label>
                <div class="space-y-2">
                    {% for subfield in form.reading_competency %}
                    <label class="flex items-start">
                        {{ subfield(class="mr-2 mt-1") }}
                        <span class="text-gray-700">{{ subfield.label }}</span>
                    </label>
                    {% endfor %}
                </div>
                {% if form.reading_competency.errors %}
                <p class="text-red-500 text-xs mt-1">{{ form.reading_competency.errors[0] }}</p>
                {% endif %}
            </div>

            <!-- 10. ì£¼ í‰ê·  ë…ì„œëŸ‰ -->
            <div class="mb-6">
                <label class="block text-sm font-bold text-gray-700 mb-2">
                    {{ form.weekly_reading_amount.label }}
                    <span class="text-red-500">*</span>
                </label>
                {{ form.weekly_reading_amount(class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500") }}
                {% if form.weekly_reading_amount.errors %}
                <p class="text-red-500 text-xs mt-1">{{ form.weekly_reading_amount.errors[0] }}</p>
                {% endif %}
            </div>

            <!-- 11. ì„ í˜¸í•˜ëŠ” ë…ì„œ ë¶„ì•¼ -->
            <div class="mb-6">
                <label class="block text-sm font-bold text-gray-700 mb-3">
                    11. í•™ìƒì´ ì„ í˜¸í•˜ëŠ” ë…ì„œ ë¶„ì•¼ë¥¼ ëª¨ë‘ ì„ íƒí•´ì£¼ì„¸ìš” (ì¤‘ë³µ ì„ íƒ ê°€ëŠ¥)
                </label>
                <p class="text-xs text-gray-500 mb-3">ì¤‘ë³µ ì„ íƒ ê°€ëŠ¥</p>
                <div class="grid grid-cols-2 gap-3">
                    {% for value, label in form.preferred_genres.choices %}
                    <label class="flex items-center bg-gray-50 p-3 rounded-lg hover:bg-gray-100 cursor-pointer">
                        <input type="checkbox" name="preferred_genres" value="{{ value }}" class="mr-2">
                        <span class="text-gray-700">{{ label }}</span>
                    </label>
                    {% endfor %}
                </div>
            </div>

            <!-- 12. í•™ìƒ ì„±í–¥ -->
            <div class="mb-6">
                <label class="block text-sm font-bold text-gray-700 mb-3">
                    12. í•™ìƒì˜ ì„±í–¥ì„ ëª¨ë‘ ì•Œë ¤ì£¼ì„¸ìš” (ì¤‘ë³µ ì„ íƒ ê°€ëŠ¥)
                    <span class="text-red-500">*</span>
                </label>
                <p class="text-xs text-gray-500 mb-3">ì¤‘ë³µ ì„ íƒ ê°€ëŠ¥</p>
                <div class="space-y-2">
                    {% for value, label in form.personality_traits.choices %}
                    <label class="flex items-center bg-gray-50 p-3 rounded-lg hover:bg-gray-100 cursor-pointer">
                        <input type="checkbox" name="personality_traits" value="{{ value }}" class="mr-2">
                        <span class="text-gray-700">{{ label }}</span>
                    </label>
                    {% endfor %}
                </div>
                {% if form.personality_traits.errors %}
                <p class="text-red-500 text-xs mt-1">{{ form.personality_traits.errors[0] }}</p>
                {% endif %}
            </div>
        </div>

        <!-- ì„¹ì…˜ 3: ìˆ˜ì—… ëª©í‘œ ë° ìš”ì²­ì‚¬í•­ (13, 17-19ë²ˆ) -->
        <div class="bg-white rounded-lg shadow-lg p-8 mb-6">
            <h3 class="text-xl font-bold text-green-800 mb-6 pb-3 border-b border-green-200">
                ğŸ¯ ìˆ˜ì—… ëª©í‘œ ë° ìš”ì²­ì‚¬í•­
            </h3>

            <!-- 13. ê°€ì¥ í–¥ìƒì‹œí‚¤ê³  ì‹¶ì€ ë¶€ë¶„ -->
            <div class="mb-6">
                <label class="block text-sm font-bold text-gray-700 mb-2">
                    {{ form.main_improvement_goal.label }}
                    <span class="text-red-500">*</span>
                </label>
                <div class="space-y-2">
                    {% for subfield in form.main_improvement_goal %}
                    <label class="flex items-start bg-gray-50 p-3 rounded-lg hover:bg-gray-100 cursor-pointer">
                        {{ subfield(class="mr-2 mt-1") }}
                        <span class="text-gray-700">{{ subfield.label }}</span>
                    </label>
                    {% endfor %}
                </div>
                {% if form.main_improvement_goal.errors %}
                <p class="text-red-500 text-xs mt-1">{{ form.main_improvement_goal.errors[0] }}</p>
                {% endif %}
            </div>

            <!-- 17. ì„ í˜¸í•˜ëŠ” ìˆ˜ì—… ëª©í‘œ -->
            <div class="mb-6">
                <label class="block text-sm font-bold text-gray-700 mb-2">
                    {{ form.preferred_class_style.label }}
                    <span class="text-red-500">*</span>
                </label>
                <div class="space-y-2">
                    {% for subfield in form.preferred_class_style %}
                    <label class="flex items-start bg-gray-50 p-3 rounded-lg hover:bg-gray-100 cursor-pointer">
                        {{ subfield(class="mr-2 mt-1") }}
                        <span class="text-gray-700">{{ subfield.label }}</span>
                    </label>
                    {% endfor %}
                </div>
                {% if form.preferred_class_style.errors %}
                <p class="text-red-500 text-xs mt-1">{{ form.preferred_class_style.errors[0] }}</p>
                {% endif %}
            </div>

            <!-- 18. ì„ ìƒë‹˜ê»˜ ìš”ì²­ì‚¬í•­ -->
            <div class="mb-6">
                <label class="block text-sm font-bold text-gray-700 mb-2">
                    {{ form.teacher_request.label }}
                </label>
                {{ form.teacher_request(class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500") }}
            </div>

            <!-- 19. ìœ ì… ê²½ë¡œ -->
            <div class="mb-6">
                <label class="block text-sm font-bold text-gray-700 mb-2">
                    {{ form.referral_source.label }}
                    <span class="text-red-500">*</span>
                </label>
                {{ form.referral_source(class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500") }}
                {% if form.referral_source.errors %}
                <p class="text-red-500 text-xs mt-1">{{ form.referral_source.errors[0] }}</p>
                {% endif %}
            </div>
        </div>

        <!-- ì„¹ì…˜ 4: ì§„ë¡œ/ì§„í•™ ì •ë³´ (20-23ë²ˆ) -->
        <div class="bg-white rounded-lg shadow-lg p-8 mb-6">
            <h3 class="text-xl font-bold text-orange-800 mb-6 pb-3 border-b border-orange-200">
                ğŸ“ ì§„ë¡œ ë° ì§„í•™ ì •ë³´
            </h3>

            <!-- 20. í•„ìš”í•œ êµìœ¡&ì…ì‹œ ì •ë³´ -->
            <div class="mb-6">
                <label class="block text-sm font-bold text-gray-700 mb-3">
                    20. í•„ìš”í•œ êµìœ¡&ì…ì‹œ ì •ë³´ê°€ ìˆìœ¼ì‹ ê°€ìš”? (ê´€ì‹¬ ìˆìœ¼ì‹  ë¶€ë¶„ì— ëª¨ë‘ ì²´í¬í•´ì£¼ì„¸ìš”)
                    <span class="text-red-500">*</span>
                </label>
                <p class="text-xs text-gray-500 mb-3">ì¤‘ë³µ ì„ íƒ ê°€ëŠ¥</p>
                <div class="grid grid-cols-2 gap-3">
                    {% for value, label in form.education_info_needs.choices %}
                    <label class="flex items-center bg-gray-50 p-3 rounded-lg hover:bg-gray-100 cursor-pointer">
                        <input type="checkbox" name="education_info_needs" value="{{ value }}" class="mr-2">
                        <span class="text-gray-700">{{ label }}</span>
                    </label>
                    {% endfor %}
                </div>
                {% if form.education_info_needs.errors %}
                <p class="text-red-500 text-xs mt-1">{{ form.education_info_needs.errors[0] }}</p>
                {% endif %}
            </div>

            <!-- 21. ì§„í•™ ëª©í‘œ -->
            <div class="mb-6">
                <label class="block text-sm font-bold text-gray-700 mb-3">
                    21. ì§„í•™ ëª©í‘œê°€ ìˆìœ¼ì‹ ê°€ìš”? (ì¤‘ë³µ ì„ íƒ ê°€ëŠ¥)
                </label>
                <p class="text-xs text-gray-500 mb-3">ì¤‘ë³µ ì„ íƒ ê°€ëŠ¥</p>
                <div class="space-y-2">
                    {% for value, label in form.academic_goals.choices %}
                    <label class="flex items-center bg-gray-50 p-3 rounded-lg hover:bg-gray-100 cursor-pointer">
                        <input type="checkbox" name="academic_goals" value="{{ value }}" class="mr-2">
                        <span class="text-gray-700">{{ label }}</span>
                    </label>
                    {% endfor %}
                </div>
            </div>

            <!-- 22. ì§„ë¡œ ê´€ì‹¬ ë¶„ì•¼ -->
            <div class="mb-6">
                <label class="block text-sm font-bold text-gray-700 mb-3">
                    22. ê´€ì‹¬ ìˆëŠ” í•™ìƒì˜ ì§„ë¡œ ë¶„ì•¼ëŠ” ë¬´ì—‡ì…ë‹ˆê¹Œ? (ì¤‘ë³µ ì„ íƒ ê°€ëŠ¥)
                </label>
                <p class="text-xs text-gray-500 mb-3">ì¤‘ë³µ ì„ íƒ ê°€ëŠ¥</p>
                <div class="grid grid-cols-2 gap-3">
                    {% for value, label in form.career_interests.choices %}
                    <label class="flex items-center bg-gray-50 p-3 rounded-lg hover:bg-gray-100 cursor-pointer">
                        <input type="checkbox" name="career_interests" value="{{ value }}" class="mr-2">
                        <span class="text-gray-700">{{ label }}</span>
                    </label>
                    {% endfor %}
                </div>
            </div>

            <!-- 23. ê¸°íƒ€ êµìœ¡ë¶„ì•¼ ê´€ì‹¬ì‚¬í•­ -->
            <div class="mb-6">
                <label class="block text-sm font-bold text-gray-700 mb-2">
                    {{ form.other_interests.label }}
                </label>
                {{ form.other_interests(class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500") }}
            </div>

            <!-- í˜•ì œ/ìë§¤ ì •ë³´ -->
            <div class="mb-6">
                <label class="block text-sm font-bold text-gray-700 mb-2">
                    {{ form.sibling_info.label }}
                </label>
                {{ form.sibling_info(class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500") }}
            </div>
        </div>

        <!-- Submit Button -->
        <div class="bg-white rounded-lg shadow-lg p-8">
            <button type="submit"
                    class="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-4 rounded-lg transition duration-200 text-lg">
                âœ… ë“±ë¡ ì™„ë£Œ
            </button>
            <p class="text-center text-sm text-gray-500 mt-3">
                * í‘œì‹œëŠ” í•„ìˆ˜ ì…ë ¥ í•­ëª©ì…ë‹ˆë‹¤
            </p>
        </div>
    </form>
</div>
{% endblock %}
