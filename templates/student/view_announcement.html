{% extends "base.html" %}

{% block title %}{{ announcement.title }} - MOMOAI v4.0{% endblock %}

{% block content %}
<div class="max-w-4xl mx-auto">
    <!-- Header -->
    <div class="mb-6">
        <a href="{{ url_for('student.announcements') }}"
           class="text-blue-600 hover:text-blue-800 font-medium mb-2 inline-block">
            â† ê³µì§€ì‚¬í•­ ëª©ë¡ìœ¼ë¡œ
        </a>
        <div class="flex items-start justify-between">
            <div class="flex-1">
                <div class="flex items-center gap-2 mb-2">
                    <h2 class="text-3xl font-bold text-gray-800">{{ announcement.title }}</h2>
                    {% if announcement.is_pinned %}
                    <span class="text-2xl">ğŸ“Œ</span>
                    {% endif %}
                </div>
                <div class="flex items-center gap-3 text-sm text-gray-600">
                    <span>ğŸ“… {{ announcement.created_at.strftime('%Yë…„ %mì›” %dì¼') }}</span>
                    <span>ğŸ‘¤ {{ announcement.author.name }}</span>
                </div>
            </div>
            {% if announcement.target_tier %}
            <span class="px-3 py-1 text-sm font-medium bg-purple-100 text-purple-800 rounded">
                {{ announcement.target_tier }}ë“±ê¸‰ ì „ìš©
            </span>
            {% endif %}
        </div>
    </div>

    <!-- ë³¸ë¬¸ -->
    <div class="bg-white rounded-lg shadow">
        <div class="p-6">
            <div class="prose max-w-none">
                {{ announcement.content|replace('\n', '<br>')|safe }}
            </div>
        </div>

        {% if announcement.attachment_path %}
        <div class="px-6 py-4 border-t border-gray-200">
            <div class="flex items-center gap-2">
                <span class="text-gray-600">ğŸ“ ì²¨ë¶€íŒŒì¼:</span>
                <a href="{{ announcement.attachment_path }}"
                   class="text-blue-600 hover:text-blue-800 font-medium">
                    ë‹¤ìš´ë¡œë“œ
                </a>
            </div>
        </div>
        {% endif %}
    </div>

    <!-- ì •ë³´ -->
    <div class="mt-6 bg-gray-50 border border-gray-200 rounded-lg p-4">
        <div class="text-sm text-gray-600">
            <p>ì´ ê³µì§€ì‚¬í•­ì€ {{ announcement.created_at.strftime('%Yë…„ %mì›” %dì¼ %H:%M') }}ì— ê²Œì‹œë˜ì—ˆìŠµë‹ˆë‹¤.</p>
            {% if announcement.target_tier %}
            <p class="mt-1">{{ announcement.target_tier }}ë“±ê¸‰ í•™ìƒë§Œ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
            {% else %}
            <p class="mt-1">ëª¨ë“  í•™ìƒì´ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
            {% endif %}
        </div>
    </div>
</div>
{% endblock %}
